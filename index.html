
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, interactive-widget=resizes-content">
		<title>鲁虺阅读器</title>
		<meta name="keywords" content="TXT阅读器,LITU阅读器,TXT READER,TXT网页阅读器,TXT WEB READER,TXT HTML5阅读器,本地阅读器,离线阅读器,小说阅读器" />
		<meta name="description" content="一款基于 HTML5 实现的轻量级本地 TXT 阅读器，功能包括阅读记忆、目录书签、搜索替换、文本配置和繁简互换等。" />
		<meta name="theme-color" content="">
		<link rel="icon" href="img/reader.ico" type="image/x-icon" />
		<link rel="shortcut" href="img/reader.ico"/>
		<link rel="stylesheet" href="css/reader_new.css?p37">
	</head><!--版权说明开始
/*
+---------------------------------------------------+
| Name : 鲁虺阅读器JavaScript版utf-8编码
+---------------------------------------------------+
| 创建Created  2024-10-1 / 修改Modify 2025-8-8
+---------------------------------------------------+
| Version : 1.0.0
+---------------------------------------------------+
| Author : 鲁虺文化网  冠富研究院  冠富商务通
+---------------------------------------------------+
| Powered by luhui.net 2004-01-11
+---------------------------------------------------+
| QQ : 63625244 
| Email : info@mail.luhui.net
| 鲁虺文化网 : http://www.luhui.net
| 冠富研究院 : http://www.guanfu.org
| 冠富商务通 : http://www.guanfu.net.cn
+---------------------------------------------------+
| Note :
|
| 1.本软件对于非商业用户完全免费,如果要使用在商业用途
|   方面,必须取得作者的授权.
|
| 2.你可以任意传播以及修改本程序,但不能以任何形式删除
|   本程序的版权.请记住,保留作者版权是对原创作者的尊敬.
|
| 3.如果有问题,可以通过上面提供的方式进行解答,但作者
|   时间有限,如果不能及时或者不解答,请谅解.
|
| 4.作者对非法使用该程序导致的问题,不予以负责.
|
| 5.本程序版权归 鲁虺文化网 所有.禁止任何侵权行为!
|
+---------------------------------------------------+
*/
--版权说明结束-->
	<body>
		<div id="initArea" class="container2">
			<div class="tname"><svg style="vertical-align: middle; margin-bottom: 20px;" xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16">
				<path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
			  </svg><p>鲁虺阅读器</p></div>
			<p class="tips">初始化</p>
		</div>
		<div id="listArea" class="container2" style="display:none;">
			<div class="toparea">
				<div class="tname"><svg style="vertical-align: middle; margin-bottom: 10px;" xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" viewBox="0 0 16 16">
					<path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"/>
				  </svg><p>鲁虺阅读器</p></div>
				<div class="tdesc"><!--一款基　于 HTML5 实现的 TXT -->轻量级本地 TXT 小说阅读器</div>
				<input type="file" id="fileInput" style="filter:alpha(opacity=0);opacity:0;width: 0;height: 0;" accept = "text/plain,.zip,.litu" />
				<button class="selectbtn">打开本地 TXT / LITU / ZIP 文件</button>
				<div class="tips" style="display:none">
					<p><svg style="vertical-align: middle;margin-top: -2px;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">
						<path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"/>
					  	</svg>&nbsp;阅读记忆、目录书签、搜索替换、文本配置</p>
					<p><svg style="vertical-align: middle;margin-top: -2px;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">
						<path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"/>
					  	</svg>&nbsp;使用键盘左右键或者屏幕左右滑动进行翻页</p>
				</div>
			</div>
			<div id="filedroparea">拖动文件到此处打开</div>
			<div class="history"></div>
		</div>
		<script src="js/jquery-3.4.1.min.js"></script>
		<script src="js/layer-v3.5.1/layer/layer.js" type="text/javascript"></script>
		<script src="js/md5.js" type="text/javascript"></script>
		<script type="text/javascript">
			function isMobile() {
			  const mobileRegex = /(Android|iPhone|iPod|iPad|Windows Phone|Mobile|tablet|SymbianOS)/i;
			  return mobileRegex.test(navigator.userAgent);
			  //return navigator.userAgent.toLowerCase().match(/(xiaomi|mobile|iphone|android|wap|netfront|java|operasmini|ucweb|windowssce|symbian|series|webos|sonyericsson|sony|blackberry|cellphone|dopod|nokia|samsung|palmsource|xphone|xda|smartphone|pieplus|meizu|midp|cldc)/i) != null;
			}
			window.jQuery = $;
			window.mobile = isMobile();
			window.readername = $("title").html();
			window.jsversion = '1.30';
			window.tempalteVersion = 2.28, //模板版本，如果变化则强制更新
			window.jspath = "tusd09sdhxmain";
			window.workerPath = "tusd09sdhxwork";
			var layerMaxWidth = $(window).width() - 20;
			var layerMaxHeight = $(window).height() - 60;
			var Util = (function() {
				var prefix = 'html5_reader_';
				var StorageGetter = function(key) {
					return localStorage.getItem(prefix + key);
				}
				var StorageSetter = function(key, val) {
					return localStorage.setItem(prefix + key, val);
				}
				var StorageDeleter = function(key) {
					return localStorage.removeItem(prefix + key);
				}
				return {
					StorageGetter: StorageGetter,
					StorageSetter: StorageSetter,
					StorageDeleter: StorageDeleter
				}
			})();
			if(!window.localStorage || !window.FileReader || !window.Worker){
				$("#initArea .tips").html("当前浏览器不支持本阅读器，推荐使用最新的Chrome浏览器。");
			}else{
				//window.gcode = '';
				//window.errorCodes = [];
				// 查询缓存中的模板
				var tv = Util.StorageGetter('tempalteVersion'), mreload = true;
				if(tv && tv == window.tempalteVersion){
					var templates = Util.StorageGetter('templates');
					if(templates){
						mreload = false;
						$("body").append(templates);
						main_();
					}
				}
				if(mreload){
					$.get('templates.html?' + new Date().getTime(), function(data){
						$("body").append(data);
						main_();
						Util.StorageSetter('tempalteVersion', window.tempalteVersion);
						Util.StorageSetter('templates', data);
					});
				}
			}
			function main_(){
				$("body").append("<script src='js/" + window.jspath + ".js?v21b" + window.jsversion + "'><\/script>");
			}
		</script>
	</body>
</html>
